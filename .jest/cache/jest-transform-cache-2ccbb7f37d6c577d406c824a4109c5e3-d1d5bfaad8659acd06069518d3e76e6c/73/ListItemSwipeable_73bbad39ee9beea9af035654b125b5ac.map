{"version":3,"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","ListItemSwipeable","_a","children","leftStyle","rightStyle","leftContent","rightContent","leftWidth","ScreenWidth","rightWidth","props","React","useRef","Animated","Value","panX","current","currValue","prevValue","useEffect","subs","addListener","value","removeListener","slideAnimation","useCallback","toValue","spring","useNativeDriver","start","onPanResponderMove","_","dx","newDX","Math","abs","setValue","onPanResponderRelease","sign","PanResponder","create","onMoveShouldSetPanResponderCapture","onPanResponderGrant","_panResponder","justifyContent","styles","hidden","flex","flexDirection","width","zIndex","transform","translateX","panHandlers","StyleSheet","bottom","left","overflow","position","right","top"],"sources":["ListItemSwipeable.js"],"sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { PanResponder, Animated, View, StyleSheet, } from 'react-native';\nimport ListItemBase from './ListItemBase';\nimport { ScreenWidth } from '../helpers';\nconst ListItemSwipeable = (_a) => {\n    var { children, leftStyle, rightStyle, leftContent, rightContent, leftWidth = ScreenWidth / 3, rightWidth = ScreenWidth / 3 } = _a, props = __rest(_a, [\"children\", \"leftStyle\", \"rightStyle\", \"leftContent\", \"rightContent\", \"leftWidth\", \"rightWidth\"]);\n    const { current: panX } = React.useRef(new Animated.Value(0));\n    const currValue = React.useRef(0);\n    const prevValue = React.useRef(0);\n    React.useEffect(() => {\n        let subs = panX.addListener(({ value }) => {\n            currValue.current = value;\n        });\n        return () => {\n            panX.removeListener(subs);\n        };\n    }, [panX]);\n    const slideAnimation = React.useCallback((toValue) => {\n        Animated.spring(panX, {\n            toValue,\n            useNativeDriver: true,\n        }).start();\n        prevValue.current = toValue;\n    }, [panX]);\n    const onPanResponderMove = (_, { dx }) => {\n        if (!prevValue.current) {\n            prevValue.current = currValue.current;\n        }\n        let newDX = prevValue.current + dx;\n        if (Math.abs(newDX) > ScreenWidth / 2) {\n            return;\n        }\n        panX.setValue(newDX);\n    };\n    const onPanResponderRelease = (_, { dx }) => {\n        prevValue.current = currValue.current;\n        if ((Math.sign(dx) > 0 && !leftContent) ||\n            (Math.sign(dx) < 0 && !rightContent)) {\n            return slideAnimation(0);\n        }\n        if (Math.abs(currValue.current) >= ScreenWidth / 3) {\n            slideAnimation(currValue.current > 0 ? rightWidth : -leftWidth);\n        }\n        else {\n            slideAnimation(0);\n        }\n    };\n    const { current: _panResponder } = React.useRef(PanResponder.create({\n        onMoveShouldSetPanResponderCapture: () => true,\n        onPanResponderGrant: () => false,\n        onPanResponderMove,\n        onPanResponderRelease,\n    }));\n    return (<View style={{\n        justifyContent: 'center',\n    }}>\n      <View style={[\n        styles.hidden,\n        {\n            flex: 1,\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n        },\n    ]}>\n        <View style={[\n        {\n            width: leftWidth,\n            zIndex: 1,\n        },\n        leftStyle,\n    ]}>\n          {leftContent}\n        </View>\n        <View style={{ flex: 0 }}/>\n        <View style={[\n        {\n            width: rightWidth,\n            zIndex: 1,\n        },\n        rightStyle,\n    ]}>\n          {rightContent}\n        </View>\n      </View>\n      <Animated.View style={{\n        transform: [\n            {\n                translateX: panX,\n            },\n        ],\n        zIndex: 2,\n    }} {..._panResponder.panHandlers}>\n        <ListItemBase {...props}>{children}</ListItemBase>\n      </Animated.View>\n    </View>);\n};\nconst styles = StyleSheet.create({\n    hidden: {\n        bottom: 0,\n        left: 0,\n        overflow: 'hidden',\n        position: 'absolute',\n        right: 0,\n        top: 0,\n    },\n});\nexport default ListItemSwipeable;\n"],"mappings":"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"}