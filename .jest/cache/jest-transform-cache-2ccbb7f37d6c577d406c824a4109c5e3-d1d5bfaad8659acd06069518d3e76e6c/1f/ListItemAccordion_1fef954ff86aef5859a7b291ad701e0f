1931b5657863f4f5fe3f61d89886469f
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _reactNative = require("react-native");

var _ListItemBase = _interopRequireDefault(require("./ListItemBase"));

var _ListItemContent = _interopRequireDefault(require("./ListItemContent"));

var _config = require("../config");

var _Icon = require("../icons/Icon");

var __rest = this && this.__rest || function (s, e) {
  var t = {};

  for (var p in s) {
    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];
  }

  if (s != null && typeof Object.getOwnPropertySymbols === "function") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];
  }
  return t;
};

var Accordion = function Accordion(_a) {
  var children = _a.children,
      isExpanded = _a.isExpanded,
      icon = _a.icon,
      expandIcon = _a.expandIcon,
      content = _a.content,
      noRotation = _a.noRotation,
      noIcon = _a.noIcon,
      _a$animation = _a.animation,
      animation = _a$animation === void 0 ? {
    duration: 350,
    type: 'timing'
  } : _a$animation,
      props = __rest(_a, ["children", "isExpanded", "icon", "expandIcon", "content", "noRotation", "noIcon", "animation"]);

  var _React$useRef = _react.default.useRef(new _reactNative.Animated.Value(0)),
      transition = _React$useRef.current;

  var startAnimation = _react.default.useCallback(function () {
    if (typeof animation !== 'boolean') {
      _reactNative.Animated[animation.type || 'timing'](transition, {
        toValue: Number(isExpanded),
        useNativeDriver: false,
        duration: animation.duration || 350
      }).start();
    }
  }, [isExpanded, transition, animation]);

  _react.default.useEffect(function () {
    startAnimation();
  }, [isExpanded, startAnimation]);

  var rotate = noRotation || typeof animation === 'boolean' && animation ? '0deg' : transition.interpolate({
    inputRange: [0, 1],
    outputRange: ['0deg', '-180deg']
  });
  return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_ListItemBase.default, props, _react.default.isValidElement(content) ? content : _react.default.createElement(_ListItemContent.default, null), !noIcon && _react.default.createElement(_reactNative.Animated.View, {
    style: {
      transform: [{
        rotate: rotate
      }]
    }
  }, icon ? _react.default.createElement(_Icon.Icon, expandIcon ? isExpanded ? expandIcon : icon : icon) : _react.default.createElement(_Icon.Icon, {
    name: 'chevron-down',
    type: "material-community"
  }))), _react.default.createElement(_reactNative.Animated.View, {
    style: [Boolean(animation) && {
      maxHeight: transition.interpolate({
        inputRange: [0, 1],
        outputRange: ['0%', '100%']
      }),
      opacity: transition
    }]
  }, children));
};

var _default = (0, _config.withTheme)(Accordion, 'ListItemAccordion');

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfX3Jlc3QiLCJzIiwiZSIsInQiLCJwIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiaW5kZXhPZiIsImdldE93blByb3BlcnR5U3ltYm9scyIsImkiLCJsZW5ndGgiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIkFjY29yZGlvbiIsIl9hIiwiY2hpbGRyZW4iLCJpc0V4cGFuZGVkIiwiaWNvbiIsImV4cGFuZEljb24iLCJjb250ZW50Iiwibm9Sb3RhdGlvbiIsIm5vSWNvbiIsImFuaW1hdGlvbiIsImR1cmF0aW9uIiwidHlwZSIsInByb3BzIiwiUmVhY3QiLCJ1c2VSZWYiLCJBbmltYXRlZCIsIlZhbHVlIiwidHJhbnNpdGlvbiIsImN1cnJlbnQiLCJzdGFydEFuaW1hdGlvbiIsInVzZUNhbGxiYWNrIiwidG9WYWx1ZSIsIk51bWJlciIsInVzZU5hdGl2ZURyaXZlciIsInN0YXJ0IiwidXNlRWZmZWN0Iiwicm90YXRlIiwiaW50ZXJwb2xhdGUiLCJpbnB1dFJhbmdlIiwib3V0cHV0UmFuZ2UiLCJpc1ZhbGlkRWxlbWVudCIsInRyYW5zZm9ybSIsIkJvb2xlYW4iLCJtYXhIZWlnaHQiLCJvcGFjaXR5Iiwid2l0aFRoZW1lIl0sInNvdXJjZXMiOlsiTGlzdEl0ZW1BY2NvcmRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fcmVzdCA9ICh0aGlzICYmIHRoaXMuX19yZXN0KSB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXG4gICAgICAgIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgICB9XG4gICAgcmV0dXJuIHQ7XG59O1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEFuaW1hdGVkIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbmltcG9ydCBMaXN0SXRlbUJhc2UgZnJvbSAnLi9MaXN0SXRlbUJhc2UnO1xuaW1wb3J0IExpc3RJdGVtQ29udGVudCBmcm9tICcuL0xpc3RJdGVtQ29udGVudCc7XG5pbXBvcnQgeyB3aXRoVGhlbWUgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJy4uL2ljb25zL0ljb24nO1xuY29uc3QgQWNjb3JkaW9uID0gKF9hKSA9PiB7XG4gICAgdmFyIHsgY2hpbGRyZW4sIGlzRXhwYW5kZWQsIGljb24sIGV4cGFuZEljb24sIGNvbnRlbnQsIG5vUm90YXRpb24sIG5vSWNvbiwgYW5pbWF0aW9uID0ge1xuICAgICAgICBkdXJhdGlvbjogMzUwLFxuICAgICAgICB0eXBlOiAndGltaW5nJyxcbiAgICB9IH0gPSBfYSwgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwiaXNFeHBhbmRlZFwiLCBcImljb25cIiwgXCJleHBhbmRJY29uXCIsIFwiY29udGVudFwiLCBcIm5vUm90YXRpb25cIiwgXCJub0ljb25cIiwgXCJhbmltYXRpb25cIl0pO1xuICAgIGNvbnN0IHsgY3VycmVudDogdHJhbnNpdGlvbiB9ID0gUmVhY3QudXNlUmVmKG5ldyBBbmltYXRlZC5WYWx1ZSgwKSk7XG4gICAgY29uc3Qgc3RhcnRBbmltYXRpb24gPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgYW5pbWF0aW9uICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIEFuaW1hdGVkW2FuaW1hdGlvbi50eXBlIHx8ICd0aW1pbmcnXSh0cmFuc2l0aW9uLCB7XG4gICAgICAgICAgICAgICAgdG9WYWx1ZTogTnVtYmVyKGlzRXhwYW5kZWQpLFxuICAgICAgICAgICAgICAgIHVzZU5hdGl2ZURyaXZlcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAzNTAsXG4gICAgICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfSwgW2lzRXhwYW5kZWQsIHRyYW5zaXRpb24sIGFuaW1hdGlvbl0pO1xuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHN0YXJ0QW5pbWF0aW9uKCk7XG4gICAgfSwgW2lzRXhwYW5kZWQsIHN0YXJ0QW5pbWF0aW9uXSk7XG4gICAgY29uc3Qgcm90YXRlID0gbm9Sb3RhdGlvbiB8fCAodHlwZW9mIGFuaW1hdGlvbiA9PT0gJ2Jvb2xlYW4nICYmIGFuaW1hdGlvbilcbiAgICAgICAgPyAnMGRlZydcbiAgICAgICAgOiB0cmFuc2l0aW9uLmludGVycG9sYXRlKHtcbiAgICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICAgIG91dHB1dFJhbmdlOiBbJzBkZWcnLCAnLTE4MGRlZyddLFxuICAgICAgICB9KTtcbiAgICByZXR1cm4gKDw+XG4gICAgICA8TGlzdEl0ZW1CYXNlIHsuLi5wcm9wc30+XG4gICAgICAgIHtSZWFjdC5pc1ZhbGlkRWxlbWVudChjb250ZW50KSA/IGNvbnRlbnQgOiA8TGlzdEl0ZW1Db250ZW50IC8+fVxuICAgICAgICB7IW5vSWNvbiAmJiAoPEFuaW1hdGVkLlZpZXcgc3R5bGU9e3tcbiAgICAgICAgdHJhbnNmb3JtOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcm90YXRlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9fT5cbiAgICAgICAgICAgIHtpY29uID8gKDxJY29uIHsuLi4oZXhwYW5kSWNvblxuICAgICAgICA/IGlzRXhwYW5kZWRcbiAgICAgICAgICAgID8gZXhwYW5kSWNvblxuICAgICAgICAgICAgOiBpY29uXG4gICAgICAgIDogaWNvbil9Lz4pIDogKDxJY29uIG5hbWU9eydjaGV2cm9uLWRvd24nfSB0eXBlPVwibWF0ZXJpYWwtY29tbXVuaXR5XCIvPil9XG4gICAgICAgICAgPC9BbmltYXRlZC5WaWV3Pil9XG4gICAgICA8L0xpc3RJdGVtQmFzZT5cbiAgICAgIDxBbmltYXRlZC5WaWV3IHN0eWxlPXtbXG4gICAgICAgIEJvb2xlYW4oYW5pbWF0aW9uKSAmJiB7XG4gICAgICAgICAgICBtYXhIZWlnaHQ6IHRyYW5zaXRpb24uaW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICAgICAgICBvdXRwdXRSYW5nZTogWycwJScsICcxMDAlJ10sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIG9wYWNpdHk6IHRyYW5zaXRpb24sXG4gICAgICAgIH0sXG4gICAgXX0+XG4gICAgICAgIHtjaGlsZHJlbn1cbiAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICA8Lz4pO1xufTtcbmV4cG9ydCBkZWZhdWx0IHdpdGhUaGVtZShBY2NvcmRpb24sICdMaXN0SXRlbUFjY29yZGlvbicpO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBV0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBaEJBLElBQUlBLE1BQU0sR0FBSSxRQUFRLEtBQUtBLE1BQWQsSUFBeUIsVUFBVUMsQ0FBVixFQUFhQyxDQUFiLEVBQWdCO0VBQ2xELElBQUlDLENBQUMsR0FBRyxFQUFSOztFQUNBLEtBQUssSUFBSUMsQ0FBVCxJQUFjSCxDQUFkO0lBQWlCLElBQUlJLE1BQU0sQ0FBQ0MsU0FBUCxDQUFpQkMsY0FB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